<div class="flex flex-col" *ngIf="control">
    <span class="flex gap-1" *ngIf="showLabel">
        <label [dir]="direction" class="block text-sm/6 font-medium text-gray-900 mb-1" [htmlFor]="label">{{ label }}</label>

        @if(isCurrentControlRequiredOnDefault()){

            <span class="text-right" [style]="{ color: 'red' }" *ngIf="isCurrentControlRequiredOnDefault()">*</span>
        }
    </span>

    <div class="d-flex flex-col gap-3">
         <p-select
        [options]="optionItems"
        [formControl]="control"
        [optionValue]="optionValue"
        [optionLabel]="optionLabel"
        [placeholder]="placeHolder"
        [dir]="direction"
        [filterPlaceholder]="placeHolder"
        [showClear]="showClear"
        [filterBy]="optionLabel"
        [class]="isCurrentControlRequiredOnDefault() ? 'p-inputtext-sm mt-2 required' : 'p-inputtext-sm mt-2'"
        (onChange)="onChange($event)"
        [dropdownIcon]="dropdownIcon"
        appendTo="body"
        [ngClass]="{
      'ng-dirty ng-invalid': hasError(),
    }"
        #dropdownFilterReference
    >
        <ng-template let-country pTemplate="item">
            <div class="flex align-items-center gap-2 z-index">
                <div>
                    {{ country[optionLabel] }}
                    {{ isRecommendedValue === country[optionValue] ? ' (Recommended)' : '' }}
                </div>
            </div>
        </ng-template>
    </p-select>
     <app-data-loader class="d-flex justify-content-center align-items-center" [dataLoaded]="dataLoaded"></app-data-loader>
    </div>

    <small id="sm-text-{{ label }}" *ngIf="hasSmallText">{{ smallText }}</small>

    <ng-container *ngIf="hasError()">
        <app-prime-error [direction]="direction" [customErrorMessages]="customErrorMessages" [errors]="control.errors"> </app-prime-error>
    </ng-container>
</div>
